<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>üåª Valentine</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#fff6da;
    --bg2:#ffe7b3;
    --accent:#f4b400;
    --accent2:#ffcf4a;
    --brown:#6b3f1d;
  }

  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    font-family:'Poppins', sans-serif;
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    overflow:hidden;
  }

  /* Floating hearts background */
  .float-layer{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:1;
  }
  .float-heart{
    position:absolute;
    font-size:46px;
    opacity:.42;
    animation: floatUp linear forwards;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,.10));
  }
  @keyframes floatUp{
    from{ transform:translateY(110vh) scale(.9) rotate(0deg); opacity:0; }
    10%{ opacity:.42; }
    to{ transform:translateY(-130vh) scale(1.25) rotate(360deg); opacity:0; }
  }

  /* Burst hearts (on YES) */
  .burst{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:50;
  }
  .burst span{
    position:absolute;
    font-size:64px;
    animation: burst 1.6s ease-out forwards;
    filter: drop-shadow(0 10px 20px rgba(0,0,0,.16));
  }
  @keyframes burst{
    from{ transform:translate(0,0) scale(.6); opacity:1 }
    to{ transform:translate(var(--x),var(--y)) scale(1.2); opacity:0 }
  }

  .wrap{
    z-index:2;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
    padding:14px;
  }

  .title{
    font-family:'Pacifico', cursive;
    font-size:32px;
    margin:0;
    text-align:center;
    color: var(--brown);
    transition:.35s ease;
  }
  .subtitle{
    margin:0;
    font-weight:700;
    text-align:center;
    color: rgba(107,63,29,.85);
    transition:.35s ease;
  }

  .stage{
    position:relative;
    width:min(560px, 94vw);
    height:520px;
    display:grid;
    place-items:center;
  }

  /* Sunflowers with animation */
  .sunflower{
    position:absolute;
    font-size:92px;
    opacity:.96;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,.16));
    pointer-events:none;
    animation: sunflowerBob 2.8s ease-in-out infinite;
  }
  .sunflower.s2{ animation-delay:.3s; }
  .sunflower.s3{ animation-delay:.7s; }
  .sunflower.s4{ animation-delay:1.0s; }

  @keyframes sunflowerBob{
    0%,100%{ transform: translateY(0) rotate(-2deg); }
    50%{ transform: translateY(-8px) rotate(2deg); }
  }

  /* Envelope */
  .envelope{
    position:relative;
    width:380px;
    height:260px;
    background: linear-gradient(145deg, #fff2c7, #ffe3a0);
    cursor:pointer;
    user-select:none;
    display:grid;
    place-items:center;
    overflow:hidden;
    clip-path: polygon(
      0% 3%, 3% 0%, 97% 1%, 100% 5%,
      99% 95%, 96% 100%, 4% 99%, 0% 96%
    );
    box-shadow:
      0 18px 35px rgba(107,63,29,.18),
      inset 0 0 0 3px rgba(255,255,255,.70);
    z-index:5;
  }

  .envelope::before{
    content:"";
    position:absolute;
    inset:12px;
    border:2px dashed rgba(107,63,29,.25);
    z-index:2;
    pointer-events:none;
  }

  /* ‚ú® SUPER CUTE FLAP ANIMATION ‚ú® */
  .flap{
    position:absolute;
    top:-10px;
    left:0;
    right:0;
    margin:auto;
    width:0;height:0;
    border-style:solid;
    border-width:135px 190px 0 190px;
    border-color:#ffd978 transparent transparent transparent;
    z-index:6;

    transform-origin: 50% 0%;
    transform: rotateX(0deg);
    transition: transform .85s cubic-bezier(.2,.9,.2,1);
    filter: drop-shadow(0 10px 12px rgba(0,0,0,.12));
  }

  /* when open, flap flips upward */
  .open .flap{
    transform: rotateX(180deg) translateY(-6px);
  }

  /* little flap wiggle for extra cute */
  .open .flap{
    animation: flapWiggle .9s ease-out;
  }
  @keyframes flapWiggle{
    0%{ transform: rotateX(0deg) translateY(0); }
    70%{ transform: rotateX(185deg) translateY(-6px); }
    100%{ transform: rotateX(180deg) translateY(-6px); }
  }

  .seal{
    position:absolute;
    bottom:24px;
    width:56px;
    height:56px;
    background: radial-gradient(circle at 30% 30%, #ffe07a, var(--accent));
    border-radius:50%;
    display:grid;
    place-items:center;
    font-size:24px;
    box-shadow:0 10px 20px rgba(0,0,0,.18);
    animation:pulse 1.6s infinite;
    z-index:7;
  }
  @keyframes pulse{
    0%,100%{ transform:scale(1); }
    50%{ transform:scale(1.08); }
  }

  /* Card */
  .card{
    position:absolute;
    left:50%;
    bottom:18px;
    transform:translateX(-50%) translateY(360px);
    width:330px;
    background:#fff;
    border-radius:22px;
    padding:18px 18px 22px;
    box-shadow:0 14px 30px rgba(107,63,29,.22);
    transition:.9s cubic-bezier(.2,.9,.2,1);
    text-align:center;
    border:2px solid rgba(244,180,0,.28);
    z-index:20;
  }
  .open .card{ transform:translateX(-50%) translateY(0); }

  .q{
    font-family:'Pacifico', cursive;
    font-size:24px;
    margin:4px 0 14px;
    color: var(--brown);
    line-height:1.15;
  }

  .btns{
    position:relative;
    height:92px;
  }

  button{
    padding:12px 20px;
    border-radius:999px;
    border:none;
    font-weight:900;
    font-size:15px;
    cursor:pointer;
    position:absolute;
    font-family:'Poppins', sans-serif;
  }

  .yes{
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: var(--brown);
    left:40px;
    bottom:8px;
  }

  .no{
    background:#f3f3f3;
    color:#777;
    right:40px;
    bottom:8px;
  }

  .result{
    margin-top:10px;
    font-weight:800;
    color: var(--brown);
    min-height:24px;
  }

  .dance{
    display:none;
    font-size:56px;
    margin:10px 0 8px;
    animation:dance 1.2s infinite alternate;
  }
  @keyframes dance{
    from{ transform:rotate(-6deg); }
    to{ transform:rotate(6deg); }
  }

  .closeBtn{
    display:none;
    position:relative;
    margin:10px auto 0;
    padding:10px 20px;
    border-radius:999px;
    border:2px solid rgba(107,63,29,.25);
    background:#fffaf0;
    color: var(--brown);
    font-weight:900;
    cursor:pointer;
    box-shadow: 0 10px 18px rgba(107,63,29,.12);
    z-index:25;
  }
  .closeBtn:hover{
    transform: translateY(-1px);
  }
</style>
</head>

<body>

<div class="float-layer" id="floatLayer"></div>
<div class="burst" id="burst"></div>

<div class="wrap">
  <h1 class="title" id="title">Open the envelope üíå</h1>
  <p class="subtitle" id="subtitle">Little surprise inside for you ü•πüåª</p>

  <div class="stage">
    <div class="sunflower s1" style="left:-10px; top:70px;">üåª</div>
    <div class="sunflower s2" style="right:-20px; top:90px;">üåª</div>
    <div class="sunflower s3" style="left:30px; bottom:22px;">üåª</div>
    <div class="sunflower s4" style="right:30px; bottom:22px;">üåª</div>

    <!-- ‚úÖ Add class "open" on envelope (not flap) -->
    <div class="envelope" id="envelope">
      <div class="flap" id="flap"></div>
      <div class="seal">üåª</div>

      <div class="card" id="card">
        <div class="q">Will you be my Valentine? üíõ</div>

        <div class="btns" id="area">
          <button class="yes" id="yesBtn">YES üòç</button>
          <button class="no" id="noBtn">NO üôÉ</button>
        </div>

        <div class="result" id="result"></div>
        <div class="dance" id="dance">üíÉ‚ú®</div>
        <button class="closeBtn" id="closeBtn">Close ‚ú®</button>
      </div>
    </div>
  </div>
</div>

<script>
  const envelope = document.getElementById("envelope");
  const title = document.getElementById("title");
  const subtitle = document.getElementById("subtitle");

  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const area = document.getElementById("area");

  const result = document.getElementById("result");
  const dance = document.getElementById("dance");
  const closeBtn = document.getElementById("closeBtn");

  const floatLayer = document.getElementById("floatLayer");
  const burst = document.getElementById("burst");

  /* Floating hearts loop */
  setInterval(() => {
    const h = document.createElement("div");
    h.className = "float-heart";
    h.textContent = ["üíõ","üíñ","üíò","üíï","ü´∂"][Math.floor(Math.random()*5)];
    h.style.left = Math.random()*100 + "vw";
    h.style.fontSize = (38 + Math.random()*46) + "px";
    h.style.animationDuration = (5 + Math.random()*6) + "s";
    floatLayer.appendChild(h);
    h.addEventListener("animationend",()=>h.remove());
  }, 650);

  // Open envelope (flap opens too because of .open class)
  envelope.addEventListener("click", () => {
    envelope.classList.add("open");
    title.textContent = "A little love note for you üíõüåª";
    subtitle.textContent = "Made with love, only for you ü•π‚ú®";
  });

  /* NO button moves on hover + click */
  function moveNo(){
    noBtn.style.right="auto";
    noBtn.style.bottom="auto";
    const maxX = area.clientWidth - noBtn.offsetWidth;
    const maxY = area.clientHeight - noBtn.offsetHeight;
    noBtn.style.left = (Math.random() * Math.max(0,maxX)) + "px";
    noBtn.style.top  = (Math.random() * Math.max(0,maxY)) + "px";
  }
  noBtn.addEventListener("mouseenter", moveNo);
  noBtn.addEventListener("mousedown", (e)=>{ e.preventDefault(); moveNo(); });
  noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNo(); }, {passive:false});

  /* YES click */
  yesBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    result.textContent="As if NO was ever an option ü§≠üíï";
    dance.style.display="block";
    closeBtn.style.display="inline-block";

    yesBtn.style.display="none";
    noBtn.style.display="none";

    bigHeartBurst(window.innerWidth/2, window.innerHeight/2, 14);
  });

  /* Close reset (flap closes too) */
  closeBtn.addEventListener("click", (e) => {
    e.stopPropagation();

    envelope.classList.remove("open");

    title.textContent="Open the envelope üíå";
    subtitle.textContent="Little surprise inside for you ü•πüåª";

    result.textContent="";
    dance.style.display="none";
    closeBtn.style.display="none";

    yesBtn.style.display="inline-block";
    noBtn.style.display="inline-block";

    noBtn.style.left="";
    noBtn.style.top="";
    noBtn.style.right="40px";
    noBtn.style.bottom="8px";
  });

  /* Big heart burst */
  function bigHeartBurst(x,y,count){
    for(let i=0;i<count;i++){
      const s = document.createElement("span");
      s.textContent = ["üíõ","üíñ","üíò","üíï","ü´∂"][Math.floor(Math.random()*5)];
      s.style.left = x + "px";
      s.style.top  = y + "px";
      s.style.setProperty("--x",(Math.random()*520-260)+"px");
      s.style.setProperty("--y",(Math.random()*-520-120)+"px");
      burst.appendChild(s);
      s.addEventListener("animationend",()=>s.remove());
    }
  }
</script>

</body>
</html>
